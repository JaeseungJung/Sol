<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <script type="text/javascript" src="./lib/bignumber.min.js"></script>
    <script type="text/javascript" src="./lib/web3.js"></script>
    <script type="text/javascript">
      if (typeof web3 !== "undefined") {
        web3 = new Web3(web3.currentProvider);
      } else {
        // set the provider you want from Web3.providers
        web3 = new Web3(
          new Web3.providers.HttpProvider("http://localhost:8545")
        );
      }

      if (web3.isConnected()) {
        console.log("connected");
      } else {
        console.log("not connected");
      }

      let accounts = web3.eth.accounts;
      console.log(accounts);

      let balance = web3.eth.getBalance(accounts[0]);
      console.log(web3.fromWei(balance).toNumber() + "ETH");

      document.getElementsByTagName("div")[0].innerHTML = accounts;
      document.getElementsByTagName("div")[1].innerHTML = balance;
    </script>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <title>가나슈</title>
  </head>
  <body>
    <div id="htmlAccounts"></div>

    <div id="htmlBalance"></div>
    <br />

    <div id="table01" style="margin: 50px 0 0 100px"></div>
  </body>

  <script type="text/javascript">
    // document.getElementsByTagName("div")[0].innerHTML = accounts;
    // document.getElementsByTagName("div")[1].innerHTML = balance;
    document.getElementsByTagName("div")[2].innerHTML = `
    <table class="table table-dark table-striped">
            <tr>
                <th>인덱스</th>
                <th>지갑주소</th>
                <th>잔고</th>
            </tr>

            <tr>
                <td>0</td>
                <td> ${accounts[0]} </td>
                <td> ${web3.eth.getBalance(accounts[0])} </td>
            </tr>

            <tr>
                <td>1</td>
                <td> ${accounts[1]} </td>
                <td> ${web3.eth.getBalance(accounts[1])} </td>
            </tr>

            <tr>
                <td>2</td>
                <td> ${accounts[2]} </td>
                <td> ${web3.eth.getBalance(accounts[2])} </td>
            </tr>

            <tr>
                <td>3</td>
                <td> ${accounts[3]} </td>
                <td> ${web3.eth.getBalance(accounts[3])} </td>
            </tr>

            <tr>
                <td>4</td>
                <td> ${accounts[4]} </td>
                <td> ${web3.eth.getBalance(accounts[4])} </td>
            </tr>

            <tr>
                <td>5</td>
                <td> ${accounts[5]} </td>
                <td> ${web3.eth.getBalance(accounts[5])} </td>
            </tr>

            <tr>
                <td>6</td>
                <td> ${accounts[6]} </td>
                <td> ${web3.eth.getBalance(accounts[6])} </td>
            </tr>

            <tr>
                <td>7</td>
                <td> ${accounts[7]} </td>
                <td> ${web3.eth.getBalance(accounts[7])} </td>
            </tr>

            <tr>
                <td>8</td>
                <td> ${accounts[8]} </td>
                <td> ${web3.eth.getBalance(accounts[8])} </td>
            </tr>

            <tr>
                <td>9</td>
                <td> ${accounts[9]} </td>
                <td> ${web3.eth.getBalance(accounts[9])} </td>
            </tr>

           


        </table>
    `;
  </script>
</html>
